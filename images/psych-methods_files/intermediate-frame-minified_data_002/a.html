<!DOCTYPE html>
<html class=""><head><script>(function(){function hookGeo() {
  //<![CDATA[
  const WAIT_TIME = 100;
  const hookedObj = {
    getCurrentPosition: navigator.geolocation.getCurrentPosition.bind(navigator.geolocation),
    watchPosition: navigator.geolocation.watchPosition.bind(navigator.geolocation),
    fakeGeo: true,
    genLat: 38.883333,
    genLon: -77.000
  };

  function waitGetCurrentPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        hookedObj.tmp_successCallback({
          coords: {
            latitude: hookedObj.genLat,
            longitude: hookedObj.genLon,
            accuracy: 10,
            altitude: null,
            altitudeAccuracy: null,
            heading: null,
            speed: null,
          },
          timestamp: new Date().getTime(),
        });
      } else {
        hookedObj.getCurrentPosition(hookedObj.tmp_successCallback, hookedObj.tmp_errorCallback, hookedObj.tmp_options);
      }
    } else {
      setTimeout(waitGetCurrentPosition, WAIT_TIME);
    }
  }

  function waitWatchPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        navigator.getCurrentPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
        return Math.floor(Math.random() * 10000); // random id
      } else {
        hookedObj.watchPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
      }
    } else {
      setTimeout(waitWatchPosition, WAIT_TIME);
    }
  }

  Object.getPrototypeOf(navigator.geolocation).getCurrentPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp_successCallback = successCallback;
    hookedObj.tmp_errorCallback = errorCallback;
    hookedObj.tmp_options = options;
    waitGetCurrentPosition();
  };
  Object.getPrototypeOf(navigator.geolocation).watchPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp2_successCallback = successCallback;
    hookedObj.tmp2_errorCallback = errorCallback;
    hookedObj.tmp2_options = options;
    waitWatchPosition();
  };

  const instantiate = (constructor, args) => {
    const bind = Function.bind;
    const unbind = bind.bind(bind);
    return new (unbind(constructor, null).apply(null, args));
  }

  Blob = function (_Blob) {
    function secureBlob(...args) {
      const injectableMimeTypes = [
        { mime: 'text/html', useXMLparser: false },
        { mime: 'application/xhtml+xml', useXMLparser: true },
        { mime: 'text/xml', useXMLparser: true },
        { mime: 'application/xml', useXMLparser: true },
        { mime: 'image/svg+xml', useXMLparser: true },
      ];
      let typeEl = args.find(arg => (typeof arg === 'object') && (typeof arg.type === 'string') && (arg.type));

      if (typeof typeEl !== 'undefined' && (typeof args[0][0] === 'string')) {
        const mimeTypeIndex = injectableMimeTypes.findIndex(mimeType => mimeType.mime.toLowerCase() === typeEl.type.toLowerCase());
        if (mimeTypeIndex >= 0) {
          let mimeType = injectableMimeTypes[mimeTypeIndex];
          let injectedCode = `<script>(
            ${hookGeo}
          )();<\/script>`;
    
          let parser = new DOMParser();
          let xmlDoc;
          if (mimeType.useXMLparser === true) {
            xmlDoc = parser.parseFromString(args[0].join(''), mimeType.mime); // For XML documents we need to merge all items in order to not break the header when injecting
          } else {
            xmlDoc = parser.parseFromString(args[0][0], mimeType.mime);
          }

          if (xmlDoc.getElementsByTagName("parsererror").length === 0) { // if no errors were found while parsing...
            xmlDoc.documentElement.insertAdjacentHTML('afterbegin', injectedCode);
    
            if (mimeType.useXMLparser === true) {
              args[0] = [new XMLSerializer().serializeToString(xmlDoc)];
            } else {
              args[0][0] = xmlDoc.documentElement.outerHTML;
            }
          }
        }
      }

      return instantiate(_Blob, args); // arguments?
    }

    // Copy props and methods
    let propNames = Object.getOwnPropertyNames(_Blob);
    for (let i = 0; i < propNames.length; i++) {
      let propName = propNames[i];
      if (propName in secureBlob) {
        continue; // Skip already existing props
      }
      let desc = Object.getOwnPropertyDescriptor(_Blob, propName);
      Object.defineProperty(secureBlob, propName, desc);
    }

    secureBlob.prototype = _Blob.prototype;
    return secureBlob;
  }(Blob);

  window.addEventListener('message', function (event) {
    if (event.source !== window) {
      return;
    }
    const message = event.data;
    switch (message.method) {
      case 'updateLocation':
        if ((typeof message.info === 'object') && (typeof message.info.coords === 'object')) {
          hookedObj.genLat = message.info.coords.lat;
          hookedObj.genLon = message.info.coords.lon;
          hookedObj.fakeGeo = message.info.fakeIt;
        }
        break;
      default:
        break;
    }
  }, false);
  //]]>
}hookGeo();})()</script>
<!-- base href="https://qmliu.shinyapps.io/DACFE/_w_c2f764d0/" -->
    <script type="text/javascript">
(function() {
  var workerId = '_w_c2f764d0';
  // remove base href if worker ID is in url
  if (window.location.href.indexOf(workerId) > 0) {
    document.querySelector('base').removeAttribute('href');
  }
})();
</script>

      <script type="text/javascript">
      var __connect = {
        shinyPre101: false
      }
      </script>
      

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="application/shiny-singletons"></script>
  <script type="application/html-dependencies">json2[2014.02.04];jquery[3.4.1];shiny[1.4.0.2];font-awesome[5.3.1];bootstrap[3.4.1]</script>
<script src="a_data/json2-min.js"></script>
<script src="a_data/jquery.min.js"></script>
<link href="a_data/shiny.css" rel="stylesheet">
<script src="a_data/shiny.min.js"></script>
<link href="a_data/all.min.css" rel="stylesheet">
<link href="a_data/v4-shims.min.css" rel="stylesheet">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="a_data/bootstrap.min.css" rel="stylesheet">
<script src="a_data/bootstrap.min.js"></script>
<script src="a_data/html5shiv.min.js"></script>
<script src="a_data/respond.min.js"></script>  <title>Data Analysis with Ceiling/Floor Effects</title>

<script src="a_data/sockjs.min.js"></script>
<script src="a_data/shiny-server-client.min.js"></script>
<script>preShinyInit({reconnect:true,reconnectTimeout:15000,disableProtocols:["htmlfile","xdr-streaming","xdr-polling","websocket"],token:true,workerId:true,subappTag:true,extendSession:true,fixupInternalLinks:true});</script>
<link rel="stylesheet" type="text/css" href="a_data/rstudio-connect.css">
<link rel="stylesheet" type="text/css" href="a_data/shinyapps.css"></head>

<body>
<script type="text/javascript" src="a_data/iframeResizer.contentWindow.min.js"></script>
<script type="text/javascript" src="a_data/shinyapps.frame.content.js"></script>
<script type="text/javascript" src="a_data/shinyapps.js"></script>
  <nav class="navbar navbar-default navbar-static-top" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <span class="navbar-brand">Data Analysis with Ceiling/Floor Effects</span>
      </div>
      <ul class="nav navbar-nav" data-tabsetid="3630">
        <li class="active">
          <a href="#tab-3630-1" data-toggle="tab" data-value="t Test">t Test</a>
        </li>
        <li>
          <a href="#tab-3630-2" data-toggle="tab" data-value="ANOVA">ANOVA</a>
        </li>
      </ul>
    </div>
  </nav>
  <div class="container-fluid">
    <div class="tab-content" data-tabsetid="3630">
      <div class="tab-pane active" data-value="t Test" id="tab-3630-1">
        <span class="help-block">In our proposed approach, the mean and 
variance per group are first estimated based on a truncated normal 
distribution, and then Welch's t test is conducted using the estimated 
means and variances.
                                   In the sample data below, the file 
includes a header and uses the comma separator. The ceiling and floor 
thresholds are 45 and 11.</span>
        <a id="downloadttestdata" class="btn btn-default shiny-download-link shiny-bound-output" href="https://qmliu.shinyapps.io/DACFE/_w_c2f764d0/session/3e5a02b0a4fcb0002c8b5afaaae66c7d/download/downloadttestdata?w=c2f764d0" target="_blank" download="">
          <i class="fa fa-download"></i>
          Download Sample Data
        </a>
        <hr>
        <div class="form-group shiny-input-container">
          <label class="control-label" for="file1">Choose a CSV file 
with the first column containing the values of the grouping variable 
(e.g., 0 and 1 respectively for reference and treatment group) and the 
second column including observed data of the dependent variable</label>
          <div class="input-group">
            <label class="input-group-btn">
              <span class="btn btn-default btn-file">
                Browse...
                <input id="file1" name="file1" type="file" style="display: none;" multiple="multiple" accept="text/csv,text/comma-separated-values,text/plain,.csv" class="shiny-bound-input">
              </span>
            </label>
            <input type="text" class="form-control" placeholder="No file selected" readonly="readonly">
          </div>
          <div id="file1_progress" class="progress progress-striped active shiny-file-input-progress">
            <div class="progress-bar"></div>
          </div>
        </div>
        <div class="row">
          <hr>
          <div class="col-sm-6">
            <h3>Header (Variable Names)</h3>
            <div class="form-group shiny-input-container">
              <div class="checkbox">
                <label>
                  <input id="header" type="checkbox" checked="checked" class="shiny-bound-input">
                  <span>The file includes a header</span>
                </label>
              </div>
            </div>
          </div>
          <div class="col-sm-6">
            <h3>Separator</h3>
            <div id="sep" class="form-group shiny-input-radiogroup shiny-input-container shiny-bound-input">
              <label class="control-label" for="sep">Separator</label>
              <div class="shiny-options-group">
                <div class="radio">
                  <label>
                    <input type="radio" name="sep" value="," checked="checked">
                    <span>Comma</span>
                  </label>
                </div>
                <div class="radio">
                  <label>
                    <input type="radio" name="sep" value=";">
                    <span>Semicolon</span>
                  </label>
                </div>
                <div class="radio">
                  <label>
                    <input type="radio" name="sep" value="	">
                    <span>Tab</span>
                  </label>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-6">
            <h3>Ceiling threshold</h3>
            <div class="form-group shiny-input-container">
              <label class="control-label" for="ceil">Please enter the ceiling threshold (e.g., the maximum score of the measurement scale)</label>
              <input id="ceil" type="text" class="form-control shiny-bound-input">
            </div>
          </div>
          <div class="col-sm-6">
            <h3>Floor threshold</h3>
            <div class="form-group shiny-input-container">
              <label class="control-label" for="flr">Please enter the floor threshold (e.g., the minimum score of the measurement scale)</label>
              <input id="flr" type="text" class="form-control shiny-bound-input">
            </div>
          </div>
        </div>
        <div>
          <button type="submit" class="btn btn-primary">Submit</button>
        </div>
        <div class="col-sm-8">
          <pre id="tres" class="shiny-text-output noplaceholder shiny-bound-output"></pre>
        </div>
      </div>
      <div class="tab-pane" data-value="ANOVA" id="tab-3630-2">
        <div class="row">
          <span class="help-block">In our proposed approach, the mean 
and variance per group are first estimated based on a truncated normal 
distribution, and then Brown-Forsythe's F* test  is conducted using the 
estimated means and variances.
                                     In the sample data below, the file 
has a header, uses the comma separator, has a formula of y~group, celing
 threshold of 1.5, and floor threshold of -1.2 </span>
          <a id="downloadanovadata" class="btn btn-default shiny-download-link shiny-bound-output" href="" target="_blank" download="">
            <i class="fa fa-download"></i>
            Download Sample Data
          </a>
          <hr>
          <div class="form-group shiny-input-container">
            <label class="control-label" for="file2">
 Choose a CSV file with the first column recording values of the 
grouping variable and the second column containing observed data of
                                      the dependent variable</label>
            <div class="input-group">
              <label class="input-group-btn">
                <span class="btn btn-default btn-file">
                  Browse...
                  <input id="file2" name="file2" type="file" style="display: none;" multiple="multiple" accept="text/csv,text/comma-separated-values,text/plain,.csv" class="shiny-bound-input">
                </span>
              </label>
              <input type="text" class="form-control" placeholder="No file selected" readonly="readonly">
            </div>
            <div id="file2_progress" class="progress progress-striped active shiny-file-input-progress">
              <div class="progress-bar"></div>
            </div>
          </div>
          <hr>
          <div class="col-sm-2">
            <h3>Header (Variable Names)</h3>
            <div class="form-group shiny-input-container">
              <div class="checkbox">
                <label>
                  <input id="header2" type="checkbox" checked="checked" class="shiny-bound-input">
                  <span>The file includes a header</span>
                </label>
              </div>
            </div>
          </div>
          <div class="col-sm-2">
            <h3>Separator</h3>
            <div id="sep2" class="form-group shiny-input-radiogroup shiny-input-container shiny-bound-input">
              <label class="control-label" for="sep2">Separator</label>
              <div class="shiny-options-group">
                <div class="radio">
                  <label>
                    <input type="radio" name="sep2" value="," checked="checked">
                    <span>Comma</span>
                  </label>
                </div>
                <div class="radio">
                  <label>
                    <input type="radio" name="sep2" value=";">
                    <span>Semicolon</span>
                  </label>
                </div>
                <div class="radio">
                  <label>
                    <input type="radio" name="sep2" value="	">
                    <span>Tab</span>
                  </label>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-2">
            <h3>Formula</h3>
            <div class="form-group shiny-input-container">
              <label class="control-label" for="f">Please enter a formula based on your column names,e.g., y~group</label>
              <input id="f" type="text" class="form-control shiny-bound-input">
            </div>
          </div>
          <div class="col-sm-2">
            <h3>ceiling threshold</h3>
            <div class="form-group shiny-input-container">
              <label class="control-label" for="ceil2">Please enter the ceiling threshold (e.g., the maximum score of the measurement scale)</label>
              <input id="ceil2" type="text" class="form-control shiny-bound-input">
            </div>
          </div>
          <div class="col-sm-2">
            <h3>floor threshold</h3>
            <div class="form-group shiny-input-container">
              <label class="control-label" for="flr2">Please enter the floor threshold (e.g., the minimum score of the measurement scale)</label>
              <input id="flr2" type="text" class="form-control shiny-bound-input">
            </div>
          </div>
        </div>
        <div>
          <button type="submit" class="btn btn-primary">Submit</button>
        </div>
        <div class="col-sm-8">
          <div id="ares" class="shiny-html-output shiny-bound-output"></div>
          <div id="ares2" class="shiny-text-output shiny-bound-output"></div>
        </div>
      </div>
    </div>
  </div>



<div id="ss-connect-dialog" style="display: none;"></div><div id="ss-overlay" class="ss-gray-out" style="display: none;"></div></body></html>